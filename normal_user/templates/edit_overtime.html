{% extends 'base.html' %}
{% load custom_template_tags %}
{% load static %}
{% load i18n %}
{% block title %}{% trans 'Edit Scheduler' %}{% endblock %}
{% block content %}

        <!-- Begin Page Content -->
        <div class="container-fluid">
           <!-- for mobile device -->
          <div class="row">
            <div class="left-header-part mobile-device">
            <div class="country-wrapper">

              <div class="for-mobile">
              <div class="country-field">
                <a href="#" title=""><i class="fas fa-clock"></i> 10:00 am </a>
                <div class="c-logo-block media">
                <img class="align-self-center mr-2" src="{% static 'img/c-logo.png' %}" title="Blue Logo" alt="Blue Logo">
                <p class="media-body"> USA </p>
                </div>
              </div>


              <div class="country-field">
                <a href="#" title=""><i class="fas fa-clock"></i> 10:00 am </a>
                <div class="c-logo-block media">
                <img class="align-self-center mr-2" src="{% static 'img/c-logo.png' %}" title="Blue Logo" alt="Blue Logo">
                <p class="media-body"> USA </p>
                </div>
              </div>
              </div>

              <div class="for-mobile">
              <div class="country-field">
                <a href="#" title=""><i class="fas fa-clock"></i> 10:00 am </a>
                <div class="c-logo-block media">
                <img class="align-self-center mr-2" src="{% static 'img/c-logo.png' %}" title="Blue Logo" alt="Blue Logo">
                <p class="media-body"> USA </p>
                </div>
              </div>

              <div class="country-field">
                <a href="#" title=""><i class="fas fa-clock"></i> 10:00 am </a>
                <div class="c-logo-block media">
                <img class="align-self-center mr-2" src="{% static 'img/c-logo.png' %}" title="Blue Logo" alt="Blue Logo">
                <p class="media-body"> USA </p>
                </div>
              </div>
              </div>
            </div>
            </div>
          </div>
          <!-- Content Row -->

          <div class="row">

            <!-- Area Chart -->
            <div class="col-xl-12 col-lg-12">
              <nav aria-label="breadcrumb">
                <ol class="breadcrumb mb-0 px-0">
                  <li class="breadcrumb-item"><a href="{% url 'manager_dashboard' %}">{% trans "Manager Dashboard" %}</a></li>
                  <li class="breadcrumb-item"><a href="{% url 'employee_profile' %}?employee_id={{employee_id}}">{% trans "Employee Profile" %}</a></li>
               <li class="breadcrumb-item"><a href="{% url 'scheduler_list' user_id %}">{% trans "Scheduled Time" %}</a></li>
                  <li class="breadcrumb-item active">{% trans "Edit Over  Time" %}</li>
                </ol>
                </nav>

              <div class="card shadow mb-4">

                    <div class="card-body">
                         <div class="modal-body">
        <div class="row form-row">
          <div class="col-lg-12">
            <form method='POST' action="{% url 'edit_overtime'  user_id schedule_obj.id  %}">
              {% csrf_token %}
            <table class="schedule-data" border="0">
              <tbody>
                <tr>
                   <td>
                    <div class="label-wrapper">
                      
                       <label id="start_date_scheduler_error" style="display: none;color: red;"></label>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td><span class="btn bg">{% trans 'Start Date' %} </span></td>
                   <td>
                    <div class="label-wrapper">
                      <span class="btn">
                        <div class="form-group">
                          <input type="text"  name="startdate" value="{{schedule_obj.start_date}}" class="datepicker form-control schedule-date-cls" placeholder="YYYY/MM/DD" id="start_date_overtime">

                    
                        </div>
                      </span>
                       <label id="start_date_scheduler_error" style="display: none;color: red;"></label>
                    </div>
                  </td>
                </tr>
                <tr>
                  <tr>
                    <td><span class="btn bg">{% trans 'End Date' %} </span></td>
                     <td>
                      <div class="label-wrapper">
                        <span class="btn">
                          <div class="form-group">
                            <input type="text" value="{{schedule_obj.end_date}}" name="enddate" class="datepicker form-control schedule-date-cls" placeholder="YYYY/MM/DD" id="end_date_overtime">
                          </div>
                        </span>
                         <label id="start_date_scheduler_error" style="display: none;color: red;"></label>
                      </div>
                    </td>
                  </tr>
                  <tr>
                   

                  <tr>
                  <td><span class="btn bg">{% trans 'Start Time' %} </span></td>
                  <td>
                    <span class="btn">
                      <div class="form-group">
                     <input type="text" class="form-control"  value="{%if schedule_obj %} {{obj.start_time|date:'H:i A'}}{% endif %}" name="starttime"  placeholder="HH:MM" />

                      </div>
                    </span>
                  </td>
                </tr> 
                <tr>
                  <td><span class="btn bg">{% trans 'End Time' %} </span></td>
                  <td>
                    <span class="btn">
                      <div class="form-group">
                        <input type="text" class="form-control" value="{{schedule_obj.end_time}}"  name="endtime"  placeholder="HH:MM" />
                      </div>
                    </span>
                  </td>

                </tr>                 
              </tbody>
            </table>
          </div>
    
          <div class="col-lg-12 text-center">
            <label id="schedule-date-time-error" style="display: none;color: red;"></label>
            <div class="form-group">
                <input type="submit"  class="d-sm-inline-block btn btn-sm btn-primary sbt-btn shadow-sm" id="add_overtime_btn" class="btn btn-primary" value='{% trans "Set Overtime" %}'>
            </div>
          </form>
          </div>
        </div>
                  
                      </div>
                    </div>
              </div>
            </div>


          </div>

        </div>
        <!-- /.container-fluid -->

      </div>
      <!-- End of Main Content -->

    </div>
    <!-- End of Content Wrapper -->

  </div>
  <!-- End of Page Wrapper -->

  <!-- Scroll to Top Button-->
  <a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
  </a>

  <!--Start Schedule date-time  Modal-->
<div class="adjust-clock modal fade" id="schedule-date-time" tabindex="-1" role="dialog"
  aria-labelledby="exampleModalLabel" aria-hidden="true">
  
</div>
<!-- End Schedule date-time  Modal-->

</div>

<div class="submit-msg alert modal fade" id="universal_msg_modal11" tabindex="-1" role="dialog"
  aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header py-1 flex-row align-items-center justify-content-between">
        <button class="close " type="button" data-dismiss="modal" aria-label="Close">
          <div class="close-btn">
            <span aria-hidden="true">Ã—</span>
          </div>
        </button>
      </div>
      <div class="modal-body">
        <div class="row form-row">
          <div class="col-lg-12 text-center">
            <p class="m-0">{% trans "Something Went Wrong" %}</p>
          </div>
        </div>
      </div>
      <div class="modal-footer border-top-0">
        <button class="d-sm-inline-block btn btn-sm btn-primary sbt-btn shadow-sm " type="button" data-dismiss="modal">
          {% trans "Ok" %} </button>
      </div>
    </div>
  </div>
</div>

<div class="loader-overlay" id="page_loader" style="display: none;">
  <div class="spinner-border text-primary" role="status">
    <span class="sr-only">{% trans "Loading..." %}</span>
  </div>
</div>
  <!-- Bootstrap core JavaScript-->
<script src="{% static 'vendor/jquery/jquery.min.js' %}"></script>

<!-- Core plugin JavaScript-->
<script src="{% static 'vendor/jquery-easing/jquery.easing.min.js' %}"></script>
<!-- <script src="{% static 'datetime-picker/moment.min.js' %}"></script> -->
<script src="{% static 'datetime-picker/wickedpicker.min.js' %}"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<!-- <script type="text/javascript" src="http://wmh.github.io/jquery-scrollbox/jquery.scrollbox.js"></script> -->
<script type="text/javascript" src="{% static 'js/scrollbox.js' %}"></script>
<!-- Custom scripts for all pages-->
<script src="{% static 'js/sb-admin-2.js' %}"></script>
  {% for obj in scheduler_days_list %}
  <script type="text/javascript">
    {% if not obj.day_off %}
    $("#date_picker_{{forloop.counter}}".toString()).wickedpicker({now : "{{obj.start_time}}", twentyFour: false})
    $("#end_date_picker_{{forloop.counter}}".toString()).wickedpicker({now : "{{obj.end_time}}", twentyFour: false})
    {% endif %}
  </script>
{% endfor %}

{% endblock %}